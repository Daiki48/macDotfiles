# filer #
[[plugins]]
repo = 'lambdalisue/fern.vim'
hook_add = '''
let g:fern#default_hidden=1
nnoremap <silent><C-n> :Fern .<CR>
nmap <silent> b <BS><CR>

function! s:fern_settings() abort
  nmap <silent> <buffer> p     <Plug>(fern-action-preview:toggle)
  nmap <silent> <buffer> <C-p> <Plug>(fern-action-preview:auto:toggle)
  nmap <silent> <buffer> <C-d> <Plug>(fern-action-preview:scroll:down:half)
  nmap <silent> <buffer> <C-u> <Plug>(fern-action-preview:scroll:up:half)
endfunction

augroup fern-settings
  autocmd!
  autocmd FileType fern call s:fern_settings()
augroup END
'''

[[plugins]]
repo = 'yuki-yano/fern-preview.vim'
on_source = 'fern.vim'

[[plugins]]
repo = 'lambdalisue/fern-git-status.vim'

# 初めての自作プラグイン #
[[plugins]]
repo = 'Daiki48/hello-daiki'

# 補完関係 #
[[plugins]]
repo = 'Shougo/ddc.vim'
on_event = 'InsertEnter'
depends = ['denops.vim']
hook_source = '''
call ddc#custom#patch_global('sources', ['nvim-lsp', 'around'])
call ddc#custom#patch_global('sourceOptions', {
  \ '_': {
    \ 'matchers': ['matcher_head'],
    \ 'sorters': ['sorter_rank']
  \ },
  \ 'around': {
    \ 'mark': 'A'
  \ }, 
  \ 'nvim-lsp': {
    \ 'mark': 'L',
    \ 'forceCompletionPattern': '\.\w*|:\w*|->\w*'
  \ },
\ })
call ddc#custom#patch_global('sourceParams', {
	\	'nvim-lsp': { 'kindLabels': { 'Class': 'c' } },
	\	})
call ddc#enable()
'''

# 現在の行の周辺の単語を候補として抽出してくれる #
[[plugins]]
repo = 'Shougo/ddc-around'
on_source = 'ddc.vim'

# 入力中の文字列に基づいて候補から絞り込みを行う #
[[plugins]]
repo = 'Shougo/ddc-matcher_head'
on_source = 'ddc.vim'

# 候補の一覧をマッチした順・すでに入力されている順でソートする #
[[plugins]]
repo = 'Shougo/ddc-sorter_rank'
on_source = 'ddc.vim'

# language server #
[[plugins]]
repo = 'Shougo/ddc-nvim-lsp'
on_source = 'ddc.vim'

# HTML closetag #
[[plugins]]
repo = 'alvan/vim-closetag'
hook_add = '''
source ~/.config/nvim/plugins/closetag.rc.vim
'''

# filer #
[[plugins]]
repo = 'Shougo/ddu.vim'
depends = ['denops.vim']
hook_source = '''
call ddu#custom#patch_global({
\	'ui': 'filer',
\	'sources': [{'name': 'file', 'params': {}}],
\	'sourceOptions': {
\		'_': {
\			'columns': ['filename'],
\		},
\	},
\	'kindOptions': {
\		'file': {
\			'defaultAction': 'open',
\		},
\	},
\})

autocmd FileType ddu-filer call s:ddu_my_settings()

function! s:ddu_my_settings() abort
	nnoremap <buffer><silent> <CR>
	\	<Cmd>call ddu#ui#filer#do_action('itemAction')<CR>
	nnoremap <buffer><silent> <Space>
	\	<Cmd>call ddu#ui#filer#do_action('toggleSelectItem')<CR>
	nnoremap <buffer><silent> q
	\	<Cmd>call ddu#ui#filer#do_action('quit')<CR>
endfunction

" startup command
nmap <silent><C-f> <Cmd>call ddu#start({})<CR>
'''

[[plugins]]
repo = 'Shougo/ddu-ui-filer'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-file'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-kind-file'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-column-filename'
on_source = 'ddu.vim'

# fzf #
[[plugins]]
repo = 'ctrlpvim/ctrlp.vim'
hook_add = '''
let g:ctrlp_match_window = 'bottom,order:btt,min:1,max:20'
let g:ctrlp_show_hidden = 1
nnoremap <C-p> :CtrlP<CR>
'''

# git #
[[plugins]]
repo = 'tpope/vim-fugitive'
hook_add = '''
nnoremap [fugitive] <Nop>
nmap <space>g [fugitive]
nnoremap <silent> [fugitive]s :Gstatus<CR><C-w>T
nnoremap <silent> [fugitive]a :Gwrite<CR>
nnoremap <silent> [fugitive]c :Gcommit-v<CR>
nnoremap <silent> [fugitive]b :Gblame<CR>
nnoremap <silent> [fugitive]d :Gdiff<CR>
nnoremap <silent> [fugitive]m :Gmerge<CR>
'''

# markdown

